<%- include('../layouts/header', { title: title }) %> <%-
include('../partials/navbar') %>

<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="form-card">
        <div class="text-center mb-4">
          <i class="fas fa-upload fa-3x text-aqua"></i>
          <h2 class="mt-3">Upload Your Game</h2>
          <p class="text-muted">Share your game with the community</p>
        </div>

        <form action="/games" method="POST">
          <div class="mb-3">
            <label for="title" class="form-label">
              <i class="fas fa-heading"></i> Game Title *
            </label>
            <input
              type="text"
              class="form-control"
              id="title"
              name="title"
              required
              minlength="3"
              maxlength="255"
            />
            <small class="text-muted">Enter a catchy title for your game</small>
          </div>

          <div class="mb-3">
            <label for="description" class="form-label">
              <i class="fas fa-align-left"></i> Description *
            </label>
            <textarea
              class="form-control"
              id="description"
              name="description"
              rows="5"
              required
              minlength="50"
            ></textarea>
            <small class="text-muted"
              >Minimum 50 characters. Describe your game, gameplay, controls,
              etc.</small
            >
          </div>

          <div class="mb-3">
            <label for="github_url" class="form-label">
              <i class="fab fa-github"></i> GitHub URL *
            </label>
            <input
              type="url"
              class="form-control"
              id="github_url"
              name="github_url"
              required
              placeholder="https://github.com/username/repo"
            />
            <small class="text-muted">
              For playable games: Link to repo with index.html<br />
              For downloads: Link to releases page or .zip file
            </small>
          </div>

          <div class="mb-3">
            <label for="thumbnail_url" class="form-label">
              <i class="fas fa-image"></i> Thumbnail URL (Optional)
            </label>
            <input
              type="url"
              class="form-control"
              id="thumbnail_url"
              name="thumbnail_url"
              placeholder="https://example.com/image.jpg"
            />
            <small class="text-muted"
              >Leave empty for default placeholder</small
            >
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="category" class="form-label">
                <i class="fas fa-tag"></i> Category *
              </label>
              <select
                class="form-control"
                id="category"
                name="category"
                required
              >
                <option value="">Select Category</option>
                <% categories.forEach(cat => { %>
                <option value="<%= cat %>"><%= cat %></option>
                <% }); %>
              </select>
            </div>

            <div class="col-md-6 mb-3">
              <label for="tags" class="form-label">
                <i class="fas fa-tags"></i> Tags (Optional)
              </label>
              <input
                type="text"
                class="form-control"
                id="tags"
                name="tags"
                placeholder="2D, Multiplayer, Retro"
              />
              <small class="text-muted">Comma-separated tags</small>
            </div>
          </div>

          <div class="alert alert-info">
            <i class="fas fa-info-circle"></i>
            <strong>Auto-Detection:</strong> Game type (playable/download) will
            be automatically detected based on your GitHub URL.
          </div>

          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-aqua btn-lg">
              <i class="fas fa-upload"></i> Upload Game
            </button>
            <a href="/games" class="btn btn-outline-aqua">
              <i class="fas fa-times"></i> Cancel
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<%- include('../layouts/footer') %>
